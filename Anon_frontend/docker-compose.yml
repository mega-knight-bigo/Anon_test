services:
  frontend:
    build:
      context: .
      args:
        VITE_AUTH0_DOMAIN: ${VITE_AUTH0_DOMAIN}
        VITE_AUTH0_CLIENT_ID: ${VITE_AUTH0_CLIENT_ID}
        VITE_AUTH0_AUDIENCE: ${VITE_AUTH0_AUDIENCE}
        VITE_AUTH0_ORGANIZATION: ${VITE_AUTH0_ORGANIZATION:-}
        VITE_API_BASE_URL: ${VITE_API_BASE_URL:-https://localhost:5001/api}
    ports:
      - "${FRONTEND_PORT:-5000}:443"
    volumes:
      - ./certs:/etc/nginx/certs:ro
    environment:
      - NGINX_ENVSUBST_OUTPUT_DIR=/etc/nginx/conf.d
